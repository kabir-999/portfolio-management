;/*FB_PKG_DELIM*/

__d("WAWebWamEnumChannelDirectoryAction",[],(function(a,b,c,d,e,f){a=Object.freeze({DIRECTORY_OPEN_TAP:1,DIRECTORY_CLOSED_TAP:2,DIRECTORY_SEARCH_TAP:3,DIRECTORY_SERVER_ERROR:4,DIRECTORY_NAVIGATE_TO_CHANNEL:5,DIRECTORY_RETURN_FROM_CHANNEL:6,DIRECTORY_FOLLOW_TAP:7,DIRECTORY_UNFOLLOW_TAP:8,DIRECTORY_SORT_BY_RECENTLY_ADDED:9,DIRECTORY_SORT_BY_POPULARITY:10,DIRECTORY_SORT_BY_ALPHABETICALLY:11,DIRECTORY_IMP:12,DIRECTORY_SEARCH_IMP:13,DIRECTORY_PILL_SELECTION:14,DIRECTORY_COUNTRY_SELECTION:15,DIRECTORY_CATEGORY_SEE_ALL:16,SEARCH:17,SERP_LOADED:18});f.CHANNEL_DIRECTORY_ACTION=a}),66);
__d("WAWebWamEnumChannelDirectoryImpReason",[],(function(a,b,c,d,e,f){a=Object.freeze({PILL_SELECTION:1,COUNTRY_SELECTION:2,NOT_APPLICABLE:3});f.CHANNEL_DIRECTORY_IMP_REASON=a}),66);
__d("WAWebWamEnumChannelDirectorySurface",[],(function(a,b,c,d,e,f){a=Object.freeze({CHANNEL_DIRECTORY_CATEGORIES:1,CHANNEL_DIRECTORY:2});f.CHANNEL_DIRECTORY_SURFACE=a}),66);
__d("WAWebChannelDirectoryWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelDirectoryAction","WAWebWamEnumChannelDirectoryEntryPoint","WAWebWamEnumChannelDirectoryImpReason","WAWebWamEnumChannelDirectoryPillSelected","WAWebWamEnumChannelDirectorySurface"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({ChannelDirectory:[4544,{channelCategoryIndex:[11,a.TYPES.INTEGER],channelCategoryName:[12,a.TYPES.STRING],channelDirectoryAction:[1,d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION],channelDirectoryActionSequenceNumber:[5,a.TYPES.INTEGER],channelDirectoryEntryPoint:[2,d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT],channelDirectorySearchSessionId:[14,a.TYPES.STRING],channelDirectorySessionId:[3,a.TYPES.INTEGER],channelDirectorySurface:[13,d("WAWebWamEnumChannelDirectorySurface").CHANNEL_DIRECTORY_SURFACE],channelIndex:[6,a.TYPES.INTEGER],cid:[4,a.TYPES.STRING],countrySelector:[8,a.TYPES.STRING],impReason:[9,d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON],pillSelected:[10,d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED],searchMode:[7,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{ChannelDirectory:[]});g.ChannelDirectoryWamEvent=b}),98);
__d("WAWebNewChannelRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="new-channel-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M15.95 4.04543C15.95 4.32167 16.0455 4.56529 16.2383 4.75919C16.4311 4.95315 16.674 5.0498 16.95 5.0498H18.95V7.0498C18.95 7.32412 19.044 7.56646 19.2344 7.75966C19.426 7.95413 19.6693 8.0498 19.9456 8.0498C20.2218 8.0498 20.4654 7.95422 20.6593 7.76147C20.8533 7.56862 20.95 7.32572 20.95 7.0498V5.0498H22.95C23.2243 5.0498 23.4666 4.95577 23.6598 4.76537C23.8543 4.57371 23.95 4.33046 23.95 4.05418C23.95 3.77794 23.8544 3.53431 23.6616 3.34041C23.4688 3.14645 23.2259 3.0498 22.95 3.0498H20.95V1.0498C20.95 0.775486 20.8559 0.533148 20.6655 0.339948C20.4739 0.145477 20.2306 0.0498047 19.9543 0.0498047C19.6781 0.0498047 19.4345 0.145386 19.2406 0.338143C19.0466 0.530986 18.95 0.773889 18.95 1.0498V3.0498H16.95C16.6756 3.0498 16.4333 3.14384 16.2401 3.33424C16.0456 3.5259 15.95 3.76914 15.95 4.04543Z",fill:"currentColor"}),j.jsx("path",{d:"M14 2.99599C14 2.53301 13.6744 2.12889 13.2148 2.07315C12.8166 2.02486 12.4112 2 12 2C6.48 2 2 6.48 2 12C2 13.7 2.43 15.3 3.18 16.7C2.63 18.54 2 20.69 2 21C2 21.55 2.45 22 3 22C3.31 22 5.46 21.37 7.3 20.82C8.7 21.57 10.3 22 12 22C17.52 22 22 17.52 22 12C22 11.5888 21.9751 11.1834 21.9269 10.7852C21.8711 10.3256 21.467 10 21.004 10C20.3676 10 19.9039 10.6028 19.964 11.2364C19.9878 11.4877 20 11.7424 20 12C20 16.4154 16.4154 20 12 20C10.6412 20 9.36447 19.6571 8.24444 19.057L7.51743 18.6676L6.72722 18.9038C5.95126 19.1357 5.12931 19.3791 4.41748 19.5825C4.62086 18.8707 4.86428 18.0487 5.09622 17.2728L5.33243 16.4826L4.94296 15.7556C4.34295 14.6355 4 13.3588 4 12C4 7.58457 7.58457 4 12 4C12.2576 4 12.5123 4.0122 12.7636 4.03604C13.3972 4.09615 14 3.63236 14 2.99599Z",fill:"currentColor"}),j.jsx("path",{d:"M15.8301 8.63404C16.3081 8.35745 16.9198 8.52076 17.1964 8.99879C17.7077 9.88244 18 10.9086 18 12C18 13.0914 17.7077 14.1176 17.1964 15.0012C16.9198 15.4792 16.3081 15.6425 15.8301 15.366C15.352 15.0894 15.1887 14.4776 15.4653 13.9996C15.8052 13.4122 16 12.7304 16 12C16 11.2696 15.8052 10.5878 15.4653 10.0004C15.1887 9.52237 15.352 8.91063 15.8301 8.63404Z",fill:"currentColor"}),j.jsx("path",{d:"M8.16995 8.63404C8.64798 8.91063 8.81129 9.52237 8.5347 10.0004C8.19484 10.5878 8 11.2696 8 12C8 12.7304 8.19484 13.4122 8.5347 13.9996C8.81129 14.4776 8.64798 15.0894 8.16995 15.366C7.69191 15.6425 7.08017 15.4792 6.80358 15.0012C6.29231 14.1176 6 13.0914 6 12C6 10.9086 6.29231 9.88244 6.80358 8.9988C7.08017 8.52076 7.69191 8.35745 8.16995 8.63404Z",fill:"currentColor"}),j.jsx("path",{d:"M13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NewChannelRefreshedIcon=a}),98);
__d("WAWebNewsletterCreateAction",["WALogger","WAWebNewsletterBackendQueues","WAWebNewsletterBridgeApi","WAWebNewsletterCreateJob","WAWebNewsletterModelUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][createNewsletterAction] failed to create newsletter"]);h=function(){return a};return a}function a(a){return d("WAWebNewsletterBackendQueues").newsletterCreationQueue.enqueue(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("WAWebNewsletterCreateJob").createNewsletter(a));if(b==null){d("WALogger").ERROR(h()).tags("newsletter");return null}var c=b.newsletter;b=b.msgs;c=d("WAWebNewsletterModelUtils").mapNewsletterToModels(c);var e=c.chat,f=c.metadata;c=c.pic;yield d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.joinNewsletter({newsletter:e,metadata:f,pic:c,msgs:b});return d("WAWebWidFactory").toNewsletterWid(d("WAWebWidFactory").createWid(e.id.toString()))}))}g.createNewsletterAction=a}),98);
__d("WAWebNewNewsletterInfoDrawer.react",["fbt","WAWebButton.react","WAWebCmd","WAWebCommonNewsletterStrings","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebGroupGatingUtils","WAWebNetworkStatus","WAWebNewsletterCreateAction","WAWebPhotoPickerConstants","WAWebPhotoPickerLoadable.react","WAWebRichTextField.react","WAWebRichTextInputGatingUtils","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebWamEnumChannelAdminAction","WAWebWamEnumThreadType","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useCallback,n=e.useEffect,o=e.useRef,p=e.useState,q={channelMetadataSection:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x1qughib",width:"xh8yej3",$$css:!0}},r=function(){};function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=p(!1),g=f[0],i=f[1];f=p("");var k=f[0],s=f[1];f=p(null);var t=f[0],u=f[1];f=p(null);var v=f[0],w=f[1],x=a.adminFunnelLogger,y=o(""),z=o(null);f=[d("WAWebUISpacing").uiPadding.horiz32,d("WAWebUISpacing").uiPadding.bottom28];n(function(){x.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_CREATE_LAUNCH_SUCCESS)},[]);var A=m(function(a){x.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_FAILURE),d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:a}))},[x]),B=m(function(){x.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_SUCCESS),d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__lBKt6uwcJKI__JHASH__")}))},[x]),C=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i(!0);a=(yield d("WAWebNewsletterCreateAction").createNewsletterAction(a));i(!1);a!=null?(B(),d("WAWebCmd").Cmd.openCreatedNewsletter(a)):A(h._(/*BTDS*/"__JHASH__QIx56U7p85L__JHASH__"))});return function(b){return a.apply(this,arguments)}}(),D=function(a){if(!c("WAWebNetworkStatus").online){A(h._(/*BTDS*/"__JHASH__fSlIngllVWx__JHASH__"));return}void C(a)},E=m(function(a){a=a.text;s(a)},[]),F=m(function(a){a=a.text;u(a)},[]),G=m(function(a,b,c){w(b),x.logImageSetEvent(c)},[x]),H=k.trim().length>0,I=function(){k!==y.current&&(y.current=k,x.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_NAME_SET))},J=function(){t!==z.current&&(z.current=t,x.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_DESCRIPTION_SET))},K=function(){I(),J(),x.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP),D({name:k,description:t,picture:v})};g=l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:d("WAWebUISpacing").uiPadding.bottom32,children:l.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:K,disabled:!H||g,spinner:g,children:d("WAWebCommonNewsletterStrings").getCreateChannelText()})});var L=h._(/*BTDS*/"__JHASH__5oLVOKDA65Y__JHASH__"),M=h._(/*BTDS*/"__JHASH__aD57QpxMoI9__JHASH__"),N=h._(/*BTDS*/"__JHASH__6YdRi7KusNZ__JHASH__");return l.jsxs(c("WAWebDrawer.react"),{ref:e,testid:void 0,tsNavigationData:{surface:"channel-create-page",extras:{threadType:d("WAWebWamEnumThreadType").THREAD_TYPE.CHANNEL}},children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__mzgSoDuVG2C__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a.onBack}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs(c("WAWebDrawerSection.react"),{theme:"full-height",xstyle:q.channelMetadataSection,children:[l.jsxs("div",{children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props.apply(j,[d("WAWebUISpacing").uiPadding.top28].concat(f)),{children:l.jsx(d("WAWebPhotoPickerLoadable.react").PhotoPickerLoadable,{type:d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER,attachToChat:!1,startImage:v,onImageSet:G})})),l.jsx("div",babelHelpers["extends"]({"data-testid":void 0},j.props.apply(j,f),{children:l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,title:L,value:k,maxLength:d("WAWebGroupGatingUtils").getGroupMaxSubject(),showRemaining:!0,onChange:E,onBlur:I,placeholder:L,onEnter:H?K:r,emojiBtnPosition:"side",focusOnMount:!0})})),l.jsx("div",babelHelpers["extends"]({"data-testid":void 0},j.props.apply(j,f),{children:l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,title:M,value:t,maxLength:d("WAWebGroupGatingUtils").getGroupDescriptionLength(),showRemaining:!0,onChange:F,onBlur:J,placeholder:N,inputPlaceholder:M,onEnter:H?K:r,emojiBtnPosition:"side",multiline:!0,maxVisibleLines:5,minVisibleLines:5,textFormatEnabled:!0,bulletPointsEnabled:!0,numberedListEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled(),blockQuoteEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled(),inlineCodeEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled(),theme:"gray-background"})}))]}),g]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOpenNewsletterChat",["WAWebChatEntryPoint","WAWebCmd","WAWebComposeBoxActions","WAWebConversationPanelActions","WAWebModalManager","WAWebNewsletterGatingUtils","WAWebNewsletterOpenQPLLogger","WAWebPDFNGatingUtils","WAWebPDFNModal.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebCmd").Cmd.openChatFromUnread(a,d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterChatlist));c&&(d("WAWebConversationPanelActions").ConversationPanelActions.focus(),d("WAWebComposeBoxActions").ComposeBoxActions.focus(a));b==null?void 0:b.end({success:c});return a});return k.apply(this,arguments)}a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebNewsletterGatingUtils").isNewsletterQPLLoggingEnabled()?new(d("WAWebNewsletterOpenQPLLogger").WAWebNewsletterOpenQPLLogger)():null,c=a.newsletter,e=a.onSelect;b==null?void 0:b.annotate(c,a.chatEntryPoint);e==null?void 0:e();if(d("WAWebPDFNGatingUtils").hasAckedNewsletterNuxOrTos())return j(c,b);d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebPDFNModal.react").PDFNModal,{pdfnId:d("WAWebPDFNGatingUtils").getNewsletterNuxOrTos(),verifyTosAccepted:d("WAWebPDFNGatingUtils").hasAckedNewsletterNuxOrTos,runIfTosAccepted:function(){return j(c,b)}}))});return function(b){return a.apply(this,arguments)}}();g.openNewsletterChat=a}),98);
__d("WAWebNewsletterChatCell.react",["fbt","WAWebABProps","WAWebChat.react","WAWebKeyboardHotKeys.react","WAWebNewsletterGatingUtils","WAWebOpenNewsletterChat","react","useMergeRefs","useWAWebActiveSelection","useWAWebFocusState"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.active,e=a.chatEntryPoint,f=a.firstCellInList,g=a.newsletter,i=a.onSelect;a=a.searchQuery;b=c("useWAWebActiveSelection")(b,"newsletter-local-"+g.id.toString());var k=b[0];b=b[1];var l=c("useWAWebFocusState")(),m=l[0];l=l[1];k=c("useMergeRefs")(k,m);m=h._(/*BTDS*/"__JHASH__ZmvPdVIGFzJ__JHASH__",[h._param("newsletter-name",g.formattedTitle)]);var n=function(a){a.preventDefault(),void d("WAWebOpenNewsletterChat").openNewsletterChat({newsletter:g,onSelect:i,chatEntryPoint:e})},o={enter:n,space:n},p=!d("WAWebABProps").getABPropConfigValue("channels_verified_badge_in_compact_inbox_enabled");return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:k,handlers:o,"aria-label":m.toString(),role:"button","aria-current":b,"data-testid":void 0,children:j.jsx(d("WAWebChat.react").Chat,{focused:l,onClick:n,chat:g,searchQuery:a,forceActive:b,theme:"newsletter-cell",firstCellInList:f,noContext:!d("WAWebNewsletterGatingUtils").isNewsletterContextMenuEnabled(g),doNotBoldUnread:!0,hideArchivedIcon:!0,skipCheckMark:p})})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterChatCell=a}),226);
__d("WAWebNewsletterDirectoryActionButton.react",["WAWebNewsletterMembershipUtil","WAWebNewsletterQuickFollowButton.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.directoryFunnelLogger,c=a.loggingOptions,e=a.newsletter;a=a.ref;var f=d("useWAWebModelValues").useOptionalModelValues(e.newsletterMetadata,["isPreview","membershipType"]);if(f==null)return null;if(d("WAWebNewsletterMembershipUtil").iAmOwner(f)||d("WAWebNewsletterMembershipUtil").iAmAdmin(f))return null;var g=function(){b==null?void 0:b.logNewsletterFollow(e.id,c.directoryChannelIndex)},h=function(){b==null?void 0:b.logNewsletterUnfollow(e.id,c.directoryChannelIndex)};return i.jsx(d("WAWebNewsletterQuickFollowButton.react").NewsletterQuickFollowButton,{ref:a,confirmUnfollow:!0,hasBorder:!0,onFollowAction:g,onUnfollowAction:h,following:f.isPreview===!1,loggingOptions:c,newsletter:e})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterDirectoryActionButton=a}),98);
__d("WAWebNewsletterDirectoryCell.react",["WALogger","WAWebCellV2.react","WAWebCommonNewsletterStrings","WAWebDetailImage.react","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebName.react","WAWebNewsletterAttributionLogging","WAWebNewsletterDirectoryActionButton.react","WAWebNewsletterDirectoryFilterUtils","WAWebNewsletterGatingUtils","WAWebOpenNewsletterPreviewChat","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebWamEnumChannelEventSurface","WAWebWamEnumTsSurface","react","useWAWebActiveSelection","useWAWebModelValues","useWAWebNewsletterDiscoveryVisibilityLogger","useWAWebNewsletterOpenMetrics"],(function(a,b,c,d,e,f,g){var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Encountered unexpected discovery surface: ",""]);j=function(){return a};return a}var k=i||c("react"),l=(h||(h=d("react"))).useRef,m={title:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){return d("WAWebNewsletterGatingUtils").isNewsletterDiscoveryVisibilityLoggingEnabled()?k.jsx(o,babelHelpers["extends"]({},a)):k.jsx(n,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b,e=a.newsletter,f=a.onSelect,g=a.chatEntryPoint,h=a.index,i=a.directoryFunnelLogger,j=a.newsletterDirectorySectionIndex,n=a.newsletterDirectorySectionName,o=c("useWAWebActiveSelection")(a.active,"newsletter-"+a.newsletter.id.toString()),q=o[0];o=o[1];var r=l(),s=d("useWAWebModelValues").useOptionalModelValues(e.newsletterMetadata,["name","size","inviteCode","isPreview"]);if(s==null)return null;var t=function(){i==null?void 0:i.logNavigateToNewsletterFromRow(e.id,h),f==null?void 0:f(),d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setNewsletterDirectoryLoggingData({directoryCategoryName:n,directoryChannelIndex:h,directoryCategoryIndex:j}),d("WAWebOpenNewsletterPreviewChat").openNewsletterPreviewChat({identifier:s.inviteCode,chatEntryPoint:g})},u=function(){c("WAWebFocusTracer").focus(r.current)},v=function(){c("WAWebFocusTracer").focus(q.current)};u={enter:t,space:t,right:u,left:v};v={eventSurface:p(a.discoverySurface),directoryCategoryIndex:j,directoryChannelIndex:h,directoryCategoryName:n,entryPoint:d("useWAWebNewsletterOpenMetrics").getChannelEntryPoint(g)};var w=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{role:"button","data-testid":void 0,handlers:u,children:k.jsx(d("WAWebCellV2.react").CellV2,{ref:q,active:o,tabIndex:-1,onClick:t,colorScheme:"default",size:"large",border:a.bottomItem===!0?null:"bottom-partial",containerXStyle:w&&d("WAWebUISpacing").uiMargin.horiz10,detailLeftXStyle:w&&d("WAWebUISpacing").uiPadding.start12,detailRightXStyle:w&&d("WAWebUISpacing").uiPadding.end12,primary:k.jsx(d("WAWebText.react").WAWebTextTitle,{xstyle:m.title,children:k.jsx(d("WAWebName.react").Name,{chat:e,ellipsify:!0,highlightText:a.highlightText})}),secondary:k.jsx(d("WAWebText.react").WAWebTextMuted,{children:d("WAWebCommonNewsletterStrings").getNewsletterFollowersText(s.size)}),detailLeft:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:e.id,size:d("WAWebDetailImage.react").DetailImageSize.Small,quality:d("WAWebDetailImage.react").DetailImageQuality.Low,showOutline:!w}),detailRight:k.jsx(d("WAWebNewsletterDirectoryActionButton.react").NewsletterDirectoryActionButton,{ref:r,newsletter:e,directoryFunnelLogger:i,loggingOptions:v})})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.newsletter,e=a.index,f=a.directoryFunnelLogger,g=a.newsletterEventUnit,h=a.discoverySurface,i=a.listView,j=a.newsletterDirectorySectionName,l=a.country,m=a.newsletterDirectorySectionIndex;b=c("useWAWebNewsletterDiscoveryVisibilityLogger")({cid:b.id.user,newsletterEventUnit:g,discoverySurface:h,newsletterDirectorySectionName:j,newsletterIndex:e,newsletterDirectorySectionIndex:m,newsletterDirectorySessionId:f==null?void 0:f.sessionId,country:l,pillSelected:h===d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY?d("WAWebNewsletterDirectoryFilterUtils").getNewsletterSelectedPill(i):void 0});g=b[0];b[1];return k.jsx("div",{ref:g,children:k.jsx(n,babelHelpers["extends"]({},a))})}o.displayName=o.name+" [from "+f.id+"]";function p(a){switch(a){case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY_CATEGORIES:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_CATEGORIES;case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY_CATEGORIES_SEARCH:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_CATEGORIES_SEARCH;case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY;case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY_SEARCH:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_SEARCH;case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME_SEARCH:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME_SEARCH;case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME;case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_THREAD:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD;case d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PROFILE:return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE;default:d("WALogger").WARN(j(),a).tags("newsletter-logging").sendLogs("Unexpected entry point in newsletter open logging");return d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME}}g.NewsletterDirectoryCell=a}),98);
__d("WAWebSectionHeaderWithAction.react",["WAWebChevronIcon.react","WAWebFlex.react","WAWebFocusTracer","WAWebSvgComponentBase","WAWebText.react","WAWebUnstyledButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;function a(a){var b=a.actionText,c=a.active,e=a.onClick,f=a.subtitle,g=a.title;a=a.xstyle;var h=function(a){return a.toString().toLowerCase().replaceAll(" ","-")};return j.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",xstyle:a,children:[j.jsxs(d("WAWebFlex.react").FlexColumn,{children:[j.jsx(d("WAWebText.react").WAWebTextTitle,{children:g}),j.jsx(d("WAWebText.react").WAWebTextSmall,{children:f})]}),j.jsx(m,{active:c,onClick:e,text:b,testid:void 0})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.active,e=a.onClick,f=a.testid;f=a.text;var g=l();k(function(){b&&c("WAWebFocusTracer").focus(g.current)},[b]);return j.jsx(c("WAWebUnstyledButton.react"),{onClick:e,ref:g,testid:void 0,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[j.jsx(d("WAWebText.react").WAWebTextSectionTitle,{children:f}),j.jsx(d("WAWebChevronIcon.react").ChevronIcon,{directional:!0,height:24,width:24,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL})]})})}m.displayName=m.name+" [from "+f.id+"]";g.SectionHeaderWithAction=a}),98);
__d("WAWebNewsletterDirectoryEntrySectionHeader.react",["fbt","WAWebBaseShimmerComponents.react","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebSectionHeaderWithAction.react","react","useWAWebActiveSelection"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.active,e=a.isLoading,f=a.onSeeAllNewsletters,g=a.subtitle,i=a.title;a=a.xstyle;b=c("useWAWebActiveSelection")(b,"newsletter-category-header-"+i.toString());var k=b[0];b=b[1];return e===!0?j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:a,children:j.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:18,width:250})}):j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:k,children:j.jsx(d("WAWebSectionHeaderWithAction.react").SectionHeaderWithAction,{active:b,xstyle:a,title:i,subtitle:g,actionText:h._(/*BTDS*/"__JHASH__QK8_W3sE6ux__JHASH__"),onClick:f})})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterDirectoryEntrySectionHeader=a}),226);
__d("WAWebNewsletterDirectoryFunnelLogging",["WALogger","WAWebChannelDirectoryWamEvent","WAWebNewsletterAttributionLogging","WAWebNewsletterDirectoryFilterUtils","WAWebNewsletterGatingUtils","WAWebWamEnumChannelDirectoryAction","WAWebWamEnumChannelDirectoryImpReason","WAWebWamEnumChannelDirectorySurface","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[NewsletterDirectoryFunnelLogging] Could not log row actions: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[NewsletterDirectoryFunnelLogging] directory surface is undefined"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[NewsletterDirectoryFunnelLogging] entrypoint is null"]);j=function(){return a};return a}function k(a){return a===""?"Global":a}a=function(){function a(){this.$1=!1,this.sessionId=Math.round(Math.random()*1e9),this.eventSequence=0,this.searchMode=!1,d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectorySessionId(this.sessionId)}var b=a.prototype;b.$2=function(){this.eventSequence+=1};b.setSearchMode=function(a){this.searchMode=a};b.logDirectoryOpen=function(a){var b=a.entryPointToLog,c=a.countryCode,e=a.listView;a=a.channelDirectorySurface;if(this.$1)return;this.entryPoint=b;this.entryPoint==null&&(d("WALogger").WARN(j()),this.entryPoint=void 0);this.countrySelector=k(c);this.channelDirectorySurface=a;this.channelDirectorySurface===void 0&&d("WALogger").WARN(i());e!=null&&d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectoryFilter(d("WAWebNewsletterDirectoryFilterUtils").getNewsletterDirectoryFilterFromListView(e));if(d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled())this.logV3Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_OPEN_TAP});else{this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_OPEN_TAP,entryPoint:(b=this.entryPoint)!=null?b:void 0});this.logV2Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:d("WAWebNewsletterDirectoryFilterUtils").getNewsletterSelectedPill(e),countrySelector:c,entryPoint:(a=this.entryPoint)!=null?a:void 0,impReason:d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON.NOT_APPLICABLE})}this.$1=!0};b.setPillSelected=function(a){this.pillSelected=d("WAWebNewsletterDirectoryFilterUtils").getNewsletterSelectedPill(a)};b.setDirectorySurface=function(a){this.channelDirectorySurface=a};b.logCategoryExploreClick=function(a){var b=a.sectionName;a=a.sectionIndex;this.$3(b,a);d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()&&this.logV3Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_CATEGORY_SEE_ALL})};b.logDirectoryClose=function(){d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectorySessionId(null),d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectoryFilter(null),this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_CLOSED_TAP})};b.resetValuesForDirectoryCategoriesPage=function(){d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()&&(this.clearSelectedCategory(),this.pillSelected=void 0,this.channelDirectorySurface=d("WAWebWamEnumChannelDirectorySurface").CHANNEL_DIRECTORY_SURFACE.CHANNEL_DIRECTORY_CATEGORIES)};b.logCategorySelection=function(a){var b=a.categoryName;a=a.categoryIndex;this.$3(b,a);d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()&&this.logV3Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_TAP,channelCategoryName:b,channelCategoryIndex:a})};b.logSearchTap=function(){if(this.searchMode)return;d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()?this.logV3Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_TAP}):(this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_TAP}),this.logV2Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_IMP}))};b.logServerError=function(){this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SERVER_ERROR})};b.logViewChange=function(a,b){d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectoryFilter(d("WAWebNewsletterDirectoryFilterUtils").getNewsletterDirectoryFilterFromListView(a)),d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()?(this.pillSelected=d("WAWebNewsletterDirectoryFilterUtils").getNewsletterSelectedPill(a),this.logV3Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_PILL_SELECTION})):this.$4({view:a,countryCode:b,impReason:d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON.PILL_SELECTION})};b.logRegionChange=function(a,b){this.countrySelector=k(a),d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()?this.logV3Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_COUNTRY_SELECTION}):this.$4({view:b,countryCode:a,impReason:d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON.COUNTRY_SELECTION})};b.$4=function(a){var b=a.view,c=a.countryCode;a=a.impReason;if(this.searchMode)return;this.logV2Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:d("WAWebNewsletterDirectoryFilterUtils").getNewsletterSelectedPill(b),countrySelector:c,impReason:a})};b.$5=function(a,b,c){try{this.logEvent({action:a,channelIndex:c,cid:d("WAWebWidFactory").toNewsletterWid(b).user})}catch(a){d("WALogger").WARN(h(),a)}};b.logNavigateToNewsletterFromRow=function(a,b){d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()||this.$5(d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_NAVIGATE_TO_CHANNEL,a,b)};b.logNewsletterFollow=function(a,b){d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()||this.$5(d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_FOLLOW_TAP,a,b)};b.logNewsletterUnfollow=function(a,b){d("WAWebNewsletterGatingUtils").isDirectoryCategoriesLoggingEnabled()||this.$5(d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_UNFOLLOW_TAP,a,b)};b.logEvent=function(a){this.$6(babelHelpers["extends"]({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode},a)),this.$2()};b.logV2Event=function(a){this.$6(babelHelpers["extends"]({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode,countrySelector:a.countrySelector==null?void 0:k(a.countrySelector)},a)),this.$2()};b.logV3Event=function(a){var b;this.$6(babelHelpers["extends"]({sessionId:this.sessionId,eventSequence:this.eventSequence,countrySelector:(b=this.countrySelector)!=null?b:void 0,entryPoint:(b=this.entryPoint)!=null?b:void 0,channelDirectorySurface:(b=this.channelDirectorySurface)!=null?b:void 0,channelCategoryName:(b=this.categoryName)!=null?b:void 0,channelCategoryIndex:(b=this.categoryIndex)!=null?b:void 0,pillSelected:(b=this.pillSelected)!=null?b:void 0},a));this.$2()};b.$6=function(a){var b=a.sessionId,c=a.eventSequence,e=a.action,f=a.channelIndex,g=a.cid,h=a.searchMode,i=a.entryPoint,j=a.pillSelected,k=a.countrySelector,l=a.impReason,m=a.channelDirectorySurface,n=a.channelCategoryName;a=a.channelCategoryIndex;b=new(d("WAWebChannelDirectoryWamEvent").ChannelDirectoryWamEvent)({channelDirectorySessionId:b,channelDirectoryActionSequenceNumber:c,channelDirectoryAction:e,channelDirectoryEntryPoint:i,cid:g,searchMode:h,channelIndex:f,pillSelected:j,countrySelector:k,impReason:l,channelDirectorySurface:m,channelCategoryName:n,channelCategoryIndex:a});b.commit()};b.clearSelectedCategory=function(){this.categoryName=void 0,this.categoryIndex=void 0};b.$3=function(a,b){this.categoryName=l(a),this.categoryIndex=m(b,a)};return a}();function l(a){return a==="EXPLORE"||a==="EXPLORE_MORE"?void 0:a}function m(a,b){return b==="EXPLORE"||b==="EXPLORE_MORE"?void 0:a}g.NewsletterDirectoryFunnelLogger=a}),98);
__d("WAWebNewsletterDirectoryShimmer.react",["WAWebBaseShimmerComponents.react","WAWebFlex.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={cellHeight:{minHeight:"xuwdbiy",$$css:!0},container:{backgroundColor:"x150wa6m",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function k(){return i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:j.cellHeight,children:[i.jsx(d("WAWebBaseShimmerComponents.react").CircleShimmer,{diameter:49,xstyle:d("WAWebUISpacing").uiMargin.end15}),i.jsxs(d("WAWebFlex.react").FlexColumn,{children:[i.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:12,width:139,xstyle:d("WAWebUISpacing").uiMargin.bottom12}),i.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:10,width:75})]})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.count;return i.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:j.container,children:Array.from({length:a},function(a,b){return i.jsx(d("WAWebFlex.react").FlexColumn,{align:"start",xstyle:[d("WAWebUISpacing").uiMargin.horiz13,d("WAWebUISpacing").uiMargin.vert12],children:i.jsx(k,{})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterFooterWithActionLink.react",["WAWebFlex.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={border:{borderTopColor:"x1nfbk4f",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},footer:{textAlign:"x2b8uid",boxSizing:"x9f619",minHeight:"xn7apww",$$css:!0}};b={semiBold:{fontWeight:"xk50ysn",$$css:!0}};function a(a){var b=a.ref,c=a.showBorder;a=a.text;return i.jsx(d("WAWebFlex.react").FlexRow,{ref:b,xstyle:[d("WAWebUISpacing").uiPadding.horiz8,d("WAWebUISpacing").uiPadding.vert16,j.footer,c&&j.border],justify:"center",children:i.jsx("span",babelHelpers["extends"]({className:"x1evy7pa x1f6kntn xhgddhk"},{children:a}))})}a.displayName=a.name+" [from "+f.id+"]";g.footerTextStyles=b;g.NewsletterFooterWithActionLink=a}),98);
__d("WAWebWamEnumUpdateTabSearchEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({SEARCH_TAP:1,SEARCH:5,SERP_LOADED:6,SEARCH_RESULT_SCROLL:7,SEARCH_SUBMIT:8,ITEM_TAP:9,ITEM_REMOVE:10,FOLLOW:11,UNFOLLOW:12});f.UPDATE_TAB_SEARCH_EVENT_TYPE=a}),66);
__d("WAWebWamEnumUpdatesTabSearchModeType",[],(function(a,b,c,d,e,f){a=Object.freeze({QUERY:0,RECENT:1});f.UPDATES_TAB_SEARCH_MODE_TYPE=a}),66);
__d("WAWebWamEnumUpdatesTabSearchResultType",[],(function(a,b,c,d,e,f){a=Object.freeze({STATUS:0,FOLLOWED_CHANNELS:1,OTHER_CHANNELS:2,SEARCH_QUERY:3,CONTACT:4});f.UPDATES_TAB_SEARCH_RESULT_TYPE=a}),66);
__d("WAWebUpdatesTabSearchWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumUpdateTabSearchEventType","WAWebWamEnumUpdatesTabSearchModeType","WAWebWamEnumUpdatesTabSearchResultType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({UpdatesTabSearch:[4838,{channelsAdminCount:[5,a.TYPES.INTEGER],channelsFollowedCount:[1,a.TYPES.INTEGER],premiumChannelsFollowedCount:[8,a.TYPES.INTEGER],recentStatusItemCount:[2,a.TYPES.INTEGER],recentStatusRowCount:[3,a.TYPES.INTEGER],updateTabSearchEventType:[4,d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE],updatesTabSearchModeType:[11,d("WAWebWamEnumUpdatesTabSearchModeType").UPDATES_TAB_SEARCH_MODE_TYPE],updatesTabSearchResultType:[9,d("WAWebWamEnumUpdatesTabSearchResultType").UPDATES_TAB_SEARCH_RESULT_TYPE],updatesTabSearchSessionId:[10,a.TYPES.STRING],viewedStatusItemCount:[6,a.TYPES.INTEGER],viewedStatusRowCount:[7,a.TYPES.INTEGER]},[1,1,1],"regular"]},{UpdatesTabSearch:[]});g.UpdatesTabSearchWamEvent=b}),98);
__d("WAWebNewsletterInboxSearchLogging",["WAWebUpdatesTabSearchWamEvent"],(function(a,b,c,d,e,f,g){function a(a){a=new(d("WAWebUpdatesTabSearchWamEvent").UpdatesTabSearchWamEvent)(a);a.commit()}g.logNewsletterInboxSearchEvent=a}),98);
__d("WAWebNewsletterInboxSearch.react",["WAWebChatEntryPoint","WAWebChatListSearch.react","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebDrawerSection.react","WAWebEmptyState.react","WAWebFbtCommon","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebListFilterButton.react","WAWebNewsletterGatingUtils","WAWebNewsletterInboxSearchLogging","WAWebNewsletterMembershipUtil","WAWebNewsletterWamoSubUtils","WAWebOpenNewsletterChat","WAWebTabOrder","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebWamEnumUpdateTabSearchEventType","react"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useRef,l=e.useState,m={inboxFilters:{position:"x1n2onr6",boxSizing:"x9f619",backgroundColor:"x213jzs",$$css:!0},emptyUnreadResult:{maxHeight:"x569fbc",boxSizing:"x1afcbsf",$$css:!0}},n=function(a){var b={followedChannelsCount:0,adminChannelsCount:0,premiumChannelsFollowedCount:0};a.forEach(function(a){d("WAWebNewsletterMembershipUtil").iAmSubscriber(a.newsletterMetadata)?(b.followedChannelsCount++,d("WAWebNewsletterWamoSubUtils").newsletterSupportsSubscriptions(a.newsletterMetadata)&&b.premiumChannelsFollowedCount++):d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a.newsletterMetadata)&&b.adminChannelsCount++});return b};function a(a){var b=a.filteredText,e=a.handleSearchChange,f=a.handleSelectNewsletter,g=a.listData,h=a.newsletters,i=a.ref,o=a.searchQuery,p=a.selectedFilter,q=a.setSelectedFilter;a=l(!1);var r=a[0],s=a[1];a=k();h=n(h);var t=h.followedChannelsCount,u=h.adminChannelsCount,v=h.premiumChannelsFollowedCount;h=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();var w=h?d("WAWebUISpacing").uiPadding.start20:d("WAWebUISpacing").uiPadding.start12,x=h?d("WAWebUISpacing").uiPadding.end10:d("WAWebUISpacing").uiPadding.end12;h=h?d("WAWebUISpacing").uiPadding.top2:d("WAWebUISpacing").uiPadding.top0;a=d("WAWebNewsletterGatingUtils").isNewsletterInboxFiltersEnabled()?j.jsx(d("WAWebFlex.react").FlexRow,{shrink:0,wrap:"wrap",rowGap:8,columnGap:8,ref:a,style:{marginTop:r?-((a=(a=a.current)==null?void 0:a.clientHeight)!=null?a:0)-8:2,transition:"margin-top 0.1s linear"},xstyle:[w,x,h,d("WAWebUISpacing").uiMargin.bottom8,m.inboxFilters],children:Array.from(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.members()).map(function(a){if(a===d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels&&u===0)return null;var b=function(){return q(a)};return j.jsx(d("WAWebListFilterButton.react").ListFilterButton,{label:d("WAWebCommonNewsletterStrings").getChannelInboxFilterLabel(a),onClick:b,selected:p===a,tabOrder:d("WAWebTabOrder").TAB_ORDER.NEWSLETTER_TAB_FILTERS},a)})}):null;w=function(){b.trim()===""&&s(!1)};x=function(){s(!1)};var y=function(){b.trim()===""&&d("WAWebNewsletterInboxSearchLogging").logNewsletterInboxSearchEvent({updateTabSearchEventType:d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE.SEARCH_TAP,channelsFollowedCount:t,channelsAdminCount:u,premiumChannelsFollowedCount:d("WAWebNewsletterGatingUtils").isWamoSubLoggingEnabled()?v:void 0})};h=function(){b.trim()===""&&(r||y(),q(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All),s(!0))};var z=function(a){var b=g.length===0?null:g[0];b!=null&&b.type==="NEWSLETTER_CHAT_CELL"&&(a.preventDefault(),void d("WAWebOpenNewsletterChat").openNewsletterChat({newsletter:b.newsletter,onSelect:f(b),chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectorySearch}))},A=function(a){o.updateQuery(a),e(a)};return j.jsxs(c("WAWebDrawerSection.react"),{shadow:!1,animation:!1,theme:"list-section",children:[j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{onBlur:w,children:j.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:i,placeholder:c("WAWebFbtCommon")("Search"),onSearch:A,borderBottom:!1,onEnter:z,onSearchInputFocus:h,onBackButton:x,type:d("WAWebChatListSearch.react").ListSearchType.NEWSLETTER_SEARCH,showPlaceholderUntilType:!0})}),a]})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.setSelectedFilter;return j.jsx(d("WAWebEmptyState.react").Empty,{title:d("WAWebCommonNewsletterStrings").getNoUnreadChannelsFoundText(),xstyle:m.emptyUnreadResult,children:j.jsx(c("WAWebUnstyledButton.react"),{onClick:function(){return b(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All)},children:j.jsx(d("WAWebText.react").WAWebTextSectionTitle,{color:"teal",children:d("WAWebCommonNewsletterStrings").getViewAllChannelsText()})})})}b.displayName=b.name+" [from "+f.id+"]";g.NewsletterInboxSearch=a;g.NewsletterInboxEmptyUnreadSection=b}),98);
__d("WAWebNewsletterDrawerListItem.react",["fbt","WAWebChatEntryPoint","WAWebDrawerSection.react","WAWebEmptyState.react","WAWebFlex.react","WAWebNewsletterChatCell.react","WAWebNewsletterDirectoryCell.react","WAWebNewsletterFooterWithActionLink.react","WAWebNewsletterInboxSearch.react","WAWebSectionHeader.react","WAWebText.react","WAWebUISpacing","WAWebWamEnumChannelDirectoryEntryPoint","WAWebWamEnumTsSurface","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useCallback,n={myChannelsFooter:{borderTopColor:"x1nfbk4f",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",height:"xjm9jq1",$$css:!0}},o={NEWSLETTER_CHAT_CELL:"NEWSLETTER_CHAT_CELL",NEWSLETTER_DIRECTORY_CELL:"NEWSLETTER_DIRECTORY_CELL",NEWSLETTER_DIRECTORY_NO_RESULTS:"NEWSLETTER_DIRECTORY_NO_RESULTS",NEWSLETTER_CELL_HEADER:"NEWSLETTER_CELL_HEADER",MY_NEWSLETTERS_FOOTER:"MY_NEWSLETTERS_FOOTER",SEARCH_FOOTER:"SEARCH_FOOTER",NEWSLETTER_EMPTY_UNREAD:"NEWSLETTER_EMPTY_UNREAD"};function a(a){var b=a.bottomDirectoryIndex,e=a.data,f=a.firstCellInList,g=a.index;a.loading;var i=a.onNewsletterDirectorySearch;a.onRecommendedUnitFollow;var k=a.onSelect,p=a.searchQuery,q=a.selectionRef;a=a.subscribedNewslettersCount;var r=m(function(){k(e)},[k,e]);a=a>0?a+2:1;switch(e.type){case o.NEWSLETTER_CHAT_CELL:return l.jsx(c("WAWebDrawerSection.react"),{shadow:!1,animation:!1,children:l.jsx(d("WAWebNewsletterChatCell.react").NewsletterChatCell,{searchQuery:p,newsletter:e.newsletter,active:q,onSelect:r,chatEntryPoint:e.chatEntryPoint,firstCellInList:f})});case o.NEWSLETTER_DIRECTORY_CELL:return l.jsx(c("WAWebDrawerSection.react"),{shadow:!1,animation:!1,children:l.jsx(d("WAWebNewsletterDirectoryCell.react").NewsletterDirectoryCell,{active:q,newsletter:e.newsletter,onSelect:r,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterUpdatesTabSearch,index:g-a,highlightText:p.query,directoryFunnelLogger:e.directoryFunnelLogger,bottomItem:g===b,discoverySurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME_SEARCH})});case o.NEWSLETTER_CELL_HEADER:f=l.jsx("div",babelHelpers["extends"]({className:"xwa7hi x6ikm8r x10wlt62"},{children:l.jsx(c("WAWebSectionHeader.react"),{header:e.title})}));return e.hasTopBorder?l.jsxs(l.Fragment,{children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(n.myChannelsFooter,d("WAWebUISpacing").uiMargin.horiz13))),f]}):f;case o.MY_NEWSLETTERS_FOOTER:return l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[n.myChannelsFooter,d("WAWebUISpacing").uiMargin.horiz13]});case o.SEARCH_FOOTER:return l.jsx(d("WAWebNewsletterFooterWithActionLink.react").NewsletterFooterWithActionLink,{showBorder:!0,text:h._(/*BTDS*/"__JHASH__JrX5ZZhGeNv__JHASH__",[h._implicitParam("=m1",l.jsx(d("WAWebText.react").WAWebClickableText,{color:"teal",xstyle:d("WAWebNewsletterFooterWithActionLink.react").footerTextStyles.semiBold,onClick:function(){return i(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.UPDATES_TAB_SEARCH)},children:h._(/*BTDS*/"__JHASH__nXmpfK3CFCf__JHASH__")}))])});case o.NEWSLETTER_DIRECTORY_NO_RESULTS:return l.jsx(d("WAWebEmptyState.react").NoSearchResults,{center:!0});case o.NEWSLETTER_EMPTY_UNREAD:return l.jsx(d("WAWebNewsletterInboxSearch.react").NewsletterInboxEmptyUnreadSection,{setSelectedFilter:e.setSelectedFilter});default:e.type}return}a.displayName=a.name+" [from "+f.id+"]";g.TabCellDataType=o;g.NewsletterDrawerListItem=a}),226);
__d("WAWebNewsletterFailures.react",["fbt","WAWebBootstrapNewsletter","WAWebButton.react","WAWebFbtCommon","WAWebFlex.react","WAWebText.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(){return d("WAWebBootstrapNewsletter").bootstrapNewsletterBackend()};return j.jsxs(d("WAWebFlex.react").FlexContainer,{direction:"vertical",align:"center",justify:"center",xstyle:d("WAWebUISpacing").marginTop32,children:[j.jsx(d("WAWebText.react").WAWebTextTitle,{marginBottom:16,children:h._(/*BTDS*/"__JHASH__qJxavW1ZtDi__JHASH__")}),j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,children:c("WAWebFbtCommon")("Try again")})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterFailedBootstrap=a}),226);
__d("WAWebNewsletterInboxShimmer.react",["WAWebBaseShimmerComponents.react","WAWebFlex.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={outerContainer:{width:"x1r38tzb",boxSizing:"x9f619",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function a(a){a=a.count;return i.jsx(d("WAWebFlex.react").FlexColumn,{children:Array.from({length:a},function(a,b){var c;return i.jsxs(d("WAWebFlex.react").FlexColumn,{align:"start",xstyle:[(a=d("WAWebUISpacing")).marginHoriz13,a.paddingVert12,j.outerContainer],children:[i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"start",xstyle:a.marginBottom5,children:[i.jsx((c=d("WAWebBaseShimmerComponents.react")).CircleShimmer,{diameter:36,xstyle:a.marginEnd12}),i.jsx(c.RectangleShimmer,{width:108,height:12})]}),i.jsxs(d("WAWebFlex.react").FlexColumn,{align:"start",children:[i.jsx(c.RectangleShimmer,{width:308,height:10,xstyle:a.marginTop5}),i.jsx(c.RectangleShimmer,{width:238,height:10,xstyle:[a.marginTop10,a.marginBottom28]})]})]},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterRecommendedBlockHeading.react",["fbt","WAWebKeyboardHotKeys.react","WAWebText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={headingContainer:{textAlign:"x2b8uid",$$css:!0}};function a(a){a=a.xstyle;var b=j.jsx(d("WAWebText.react").WAWebTextLarge,{children:h._(/*BTDS*/"__JHASH__dkzW01n6Zow__JHASH__")}),c=j.jsx(d("WAWebText.react").WAWebTextTitle,{margin:8,color:"secondary",children:h._(/*BTDS*/"__JHASH__zUqgbnL9eaE__JHASH__")});return j.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{xstyle:[k.headingContainer,a],children:[b,c]})}a.displayName=a.name+" [from "+f.id+"]";g.RecommendedNewsletterBlockHeading=a}),226);
__d("WAWebNewsletterRecommendationsShimmer.react",["WAWebFlex.react","WAWebNewsletterDirectoryShimmer.react","WAWebNewsletterGatingUtils","WAWebNewsletterRecommendedBlockHeading.react","WAWebNewsletterRecommendedV2Item.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a){a=a.rowCount;return i.jsx(d("WAWebFlex.react").FlexColumn,{rowGap:8,align:"center",xstyle:d("WAWebUISpacing").uiMargin.top16,children:Array.from({length:a},function(){return i.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:8,children:[i.jsx(d("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),i.jsx(d("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),i.jsx(d("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{})]})})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.count;return i.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiMargin.top24,align:"center",children:[i.jsx(d("WAWebNewsletterRecommendedBlockHeading.react").RecommendedNewsletterBlockHeading,{}),d("WAWebNewsletterGatingUtils").isRecommendedUnitV3Enabled()?i.jsx(c("WAWebNewsletterDirectoryShimmer.react"),{count:a}):i.jsx(j,{rowCount:Math.ceil(a/3)})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendationsBlockShimmer=a}),98);
__d("WAWebNewsletterRecommendedUnit.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Block","Row"]);f.RecommendedUnitLayoutType=a}),66);
__d("WAWebNewsletterRecommendedV2RowUnit.react",["WAWebChatEntryPoint","WAWebNewsletterDirectoryEntrySectionHeader.react","WAWebNewsletterLoggingContext","WAWebNewsletterRecommendedV2Unit.react","WAWebUISpacing","WAWebWamEnumChannelDirectoryEntryPoint","WAWebWamEnumChannelEntryPoint","WAWebWamEnumChannelEventSurface","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useMemo,m={rowBorder:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function a(a){var b=a.afterFollow,e=a.discoverySurface,f=a.isLoading,g=a.newsletterDirectorySessionId,h=a.newsletters,j=a.onSeeAllClick,n=a.showBorder;n=n===void 0?!0:n;var o=a.title;a=a.xstyle;var p=l(function(){return{entryPoint:d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.RECOMMENDED_LIST}},[]);return k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a),{children:[k.jsx("div",babelHelpers["extends"]({},i.props(n&&m.rowBorder,d("WAWebUISpacing").uiMargin.horiz13,d("WAWebUISpacing").uiMargin.bottom24))),k.jsx(d("WAWebNewsletterDirectoryEntrySectionHeader.react").NewsletterDirectoryEntrySectionHeader,{xstyle:[d("WAWebUISpacing").uiMargin.bottom15,d("WAWebUISpacing").uiPadding.horiz13],title:o,onSeeAllNewsletters:function(){j(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)},isLoading:f}),k.jsx("div",babelHelpers["extends"]({},i.props(d("WAWebUISpacing").uiMargin.start13),{children:k.jsx(c("WAWebNewsletterLoggingContext").Provider,{value:p,children:k.jsx(d("WAWebNewsletterRecommendedV2Unit.react").NewsletterRecommendedUnit,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation,isLoading:f,newsletters:h,isFullUnit:!1,afterFollow:b,discoverySurface:e,newsletterDirectorySessionId:g})})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendedRowUnit=a}),98);
__d("WAWebNewsletterRecommendedV3.react",["WAWebButton.react","WAWebChatEntryPoint","WAWebCommonNewsletterStrings","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFlex.react","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebNewsletterDirectoryCell.react","WAWebNewsletterDirectoryShimmer.react","WAWebNewsletterGatingUtils","WAWebNewsletterRecommendedBlockHeading.react","WAWebNewsletterRecommendedUnit.flow","WAWebSingleSelection","WAWebTabOrder","WAWebText.react","WAWebUISpacing","WAWebWamEnumChannelEventUnit","WAWebWamEnumTsSurface","react","stylex","useLazyRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useRef,n={list:{width:"xh8yej3",overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0},header:{width:"xh8yej3",boxSizing:"x9f619",$$css:!0}},o=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.layout,c=a.loading,e=a.onDiscoverMoreClick;a=a.recommendedNewsletters;return j.jsxs(d("WAWebFlex.react").FlexColumn,{shrink:0,align:"center",testid:void 0,children:[j.jsx(q,{layout:b}),j.jsx(p,{items:a,loading:c}),j.jsx(r,{onClick:e})]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.items;a=a.loading;var e=d("WAWebNewsletterGatingUtils").getRecommendedUnitRowCount(),f=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),g=m(),h=m(),i=m(),k=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.itemKey})}),p=l(function(){return b.slice(0,e).map(function(a,b){return{newsletter:a,itemKey:"newsletter-"+a.id.toString(),index:b}})},[b,e]);if(a)return j.jsx(c("WAWebNewsletterDirectoryShimmer.react"),{count:e});a=k.current;var q=a.list;(q.length===0||q!==p)&&a.init(p);q=function(a){if(p.length===0)return;a==null?void 0:a.preventDefault();a==null?void 0:a.stopPropagation();a=k.current.prev();a>-1&&k.current.setPrev(!0)};a=function(a){if(p.length===0)return;a==null?void 0:a.preventDefault();a==null?void 0:a.stopPropagation();a=k.current.next();k.current.index!==a&&k.current.setNext(!0)};var r=function(){if(k.current.value){var a=k.current.index;k.current.setVal(p[a],!0)}else k.current.setFirst(!0)};a={down:a,up:q};return j.jsx(c("WAWebFlatListContainer.react"),{ref:g,className:"xh8yej3 x1plvlek xryxfnj",flatListControllers:[f.current],children:j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:h,onFocus:function(a){a.target===h.current&&r()},role:"list","data-tab":d("WAWebTabOrder").TAB_ORDER.NEWSLETTER_TAB_RECOMMENDED_LIST,handlers:a,children:j.jsx(o,{ref:i,data:p,viewportXstyles:n.list,flatListController:f.current,direction:"vertical",role:"navigation",renderItem:function(a){var b=a.newsletter,c=a.itemKey;a=a.index;return j.jsx(d("WAWebNewsletterDirectoryCell.react").NewsletterDirectoryCell,{active:k.current,testid:void 0,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation,newsletter:b,index:a,onSelect:null,bottomItem:a===p.length-1,discoverySurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME,newsletterEventUnit:d("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.RECOMMENDED_CHANNELS},c)}})})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.layout;switch(a){case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Block:return j.jsx(d("WAWebNewsletterRecommendedBlockHeading.react").RecommendedNewsletterBlockHeading,{xstyle:d("WAWebUISpacing").uiMargin.bottom16});case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Row:return j.jsx(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.bottom4,n.header],children:j.jsx(d("WAWebText.react").WAWebTextTitle,{children:d("WAWebCommonNewsletterStrings").getFindChannelsToFollowText()})})}}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.onClick;var b=m(null),e=k(function(){c("WAWebFocusTracer").focus(b.current)},[]);return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{onFocus:e,className:(h||(h=c("stylex")))(d("WAWebUISpacing").uiPadding.all16),"data-tab":d("WAWebTabOrder").TAB_ORDER.NEWSLETTER_TAB_RECOMMENDED_BUTTON,children:j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,testid:void 0,ref:b,children:d("WAWebCommonNewsletterStrings").getDiscoverMoreText()})})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterRecommendedV2BlockUnit.react",["WAWebButton.react","WAWebChatEntryPoint","WAWebCommonNewsletterStrings","WAWebFlex.react","WAWebNewsletterGatingUtils","WAWebNewsletterLoggingContext","WAWebNewsletterRecommendedBlockHeading.react","WAWebNewsletterRecommendedV2Unit.react","WAWebUISpacing","WAWebWamEnumChannelEntryPoint","WAWebWamEnumChannelEventSurface","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useMemo;function a(a){var b=a.discoverySurface,e=a.isLoading,f=a.newsletters;a=a.onSeeAllClick;a=d("WAWebNewsletterGatingUtils").isNewsletterDirectoryEnabled()?k.jsx(d("WAWebButton.react").WAWebButtonPrimary,{testid:void 0,onClick:a,children:d("WAWebCommonNewsletterStrings").getFindNewslettersText()}):null;var g=l(function(){return{entryPoint:d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.RECOMMENDED_LIST}},[]);return k.jsxs("div",babelHelpers["extends"]({className:"xdmi676"},{children:[k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([d("WAWebUISpacing").uiMargin.top24,d("WAWebUISpacing").uiMargin.bottom20,d("WAWebUISpacing").uiMargin.horiz32]),{children:k.jsx(d("WAWebNewsletterRecommendedBlockHeading.react").RecommendedNewsletterBlockHeading,{})})),k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",children:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"start",align:"start",children:k.jsx(c("WAWebNewsletterLoggingContext").Provider,{value:g,children:k.jsx(d("WAWebNewsletterRecommendedV2Unit.react").NewsletterRecommendedUnit,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation,isLoading:e,newsletters:f,isFullUnit:!0,discoverySurface:b})})})}),e?null:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",marginTop:24,marginBottom:20,children:a})]}))}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendedBlockUnit=a}),98);
__d("WAWebRecommendedNewsletterBlock.react",["WAWebNewsletterRecommendedV2BlockUnit.react","WAWebWamEnumChannelDirectoryEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useCallback;function a(a){var b=a.discoverySurface,c=a.isLoading,e=a.newsletters,f=a.onNewsletterDirectorySearch;a=k(function(){f(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)},[f]);return j.jsx(d("WAWebNewsletterRecommendedV2BlockUnit.react").NewsletterRecommendedBlockUnit,{isLoading:c,newsletters:e,onSeeAllClick:a,discoverySurface:b})}a.displayName=a.name+" [from "+f.id+"]";g.RecommendedNewsletterBlock=a}),98);
__d("WAWebUpdatesTabPrivacyFooter.react",["WAWebBannerEventWamEvent","WAWebCTWAConstants","WAWebExternalLink.react","WAWebMobilePlatforms","WAWebNewsletterFooterWithActionLink.react","WAWebPDFNGatingUtils","WAWebQuickPromotionGating","WAWebUISpacing","WAWebWamEnumBannerOperations","WAWebWamEnumBannerTypes","isStringNullOrEmpty","react","stylex","useVisibility","useWAWebBestQuickPromotionForSurface"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l={imageContainer:{display:"x1rg5ohu",width:"x1xp8n7a",height:"xmix8c7",$$css:!0},containerAlignment:{verticalAlign:"xxymvpz",$$css:!0}};function a(){var a=d("useWAWebBestQuickPromotionForSurface").useBestQuickPromotionForSurface({surfaceId:d("WAWebMobilePlatforms").isSMB()?d("WAWebCTWAConstants").QP_SURFACE_BUSINESS_UPDATES_TAB_PRIVACY_FOOTER:d("WAWebCTWAConstants").QP_SURFACE_UPDATES_TAB_PRIVACY_FOOTER},{fireImpression:!0,eligibilityCheck:function(){return d("WAWebPDFNGatingUtils").hasAcceptedNewsletterTosBefore(d("WAWebQuickPromotionGating").getUpdatesTabPrivacyNoticeRolloutDate())&&d("WAWebQuickPromotionGating").updatesTabQuickPromotionBannerEnabled()}},[]);return a==null?null:j.jsx(n,{quickPromotion:a})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=new(d("WAWebBannerEventWamEvent").BannerEventWamEvent)({bannerId:"2314739352229016",bannerType:d("WAWebWamEnumBannerTypes").BANNER_TYPES.QP_PRIVACY_FOOTER_UPDATES_TAB,bannerOperation:a});a.commit()}function n(a){a=a.quickPromotion;var b=k(!1),e=function(){b.current||(m(d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.SHOWN),b.current=!0)};e=c("useVisibility")({onVisible:e});e=e[0];var f=a.image,g=a.sanitizedText,i=a.promotion,n=a.primaryActionClick;return j.jsx(d("WAWebNewsletterFooterWithActionLink.react").NewsletterFooterWithActionLink,{ref:e,showBorder:!0,text:j.jsxs(j.Fragment,{children:[j.jsx("span",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.imageContainer,l.containerAlignment,d("WAWebUISpacing").uiPadding.end4),{children:f})),j.jsxs("span",babelHelpers["extends"]({className:"xxymvpz"},{children:[g," "]})),j.jsx("span",babelHelpers["extends"]({className:"xxymvpz"},{children:j.jsx(o,{onClick:function(){m(d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.CLICK),n()},promotion:i.promotion})}))]})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.onClick;a=a.promotion;a=a.data.primaryAction;if(a==null)return null;var e=a.text,f=a.deepLink;a=a.universalLink;f=c("isStringNullOrEmpty")(a)?f:a;return c("isStringNullOrEmpty")(f)?null:j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:f,onClick:b,children:e})}o.displayName=o.name+" [from "+f.id+"]";g.UpdatesTabPrivacyFooter=a}),98);
__d("WAWebNewsletterRecommendedUnitProvider.react",["WAWebCommonNewsletterStrings","WAWebNewsletterGatingUtils","WAWebNewsletterRecommendedUnit.flow","WAWebNewsletterRecommendedV2RowUnit.react","WAWebNewsletterRecommendedV3.react","WAWebRecommendedNewsletterBlock.react","WAWebUISpacing","WAWebUpdatesTabPrivacyFooter.react","WAWebWamEnumChannelDirectoryEntryPoint","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={recommendedUnitRow:{overflowAnchor:"x1046ku7",$$css:!0}};function a(a){var b=a.afterFollow,e=a.discoverySurface,f=a.isLoading,g=a.layout,h=a.onSeeAllClick;a=a.recommendedNewsletters;if(d("WAWebNewsletterGatingUtils").isRecommendedUnitV3Enabled())return i.jsxs(i.Fragment,{children:[i.jsx(c("WAWebNewsletterRecommendedV3.react"),{onDiscoverMoreClick:function(){return h(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.SUGGESTED_CHANNELS)},loading:f,layout:g,recommendedNewsletters:a}),i.jsx(d("WAWebUpdatesTabPrivacyFooter.react").UpdatesTabPrivacyFooter,{})]});switch(g){case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Block:return i.jsx(d("WAWebRecommendedNewsletterBlock.react").RecommendedNewsletterBlock,{isLoading:f,onNewsletterDirectorySearch:h,newsletters:a,discoverySurface:e});case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Row:return i.jsx(d("WAWebNewsletterRecommendedV2RowUnit.react").NewsletterRecommendedRowUnit,{isLoading:f,newsletters:a,onSeeAllClick:h,xstyle:[d("WAWebUISpacing").uiMargin.bottom13,j.recommendedUnitRow],afterFollow:b,title:d("WAWebCommonNewsletterStrings").getFindNewslettersText(),discoverySurface:e})}}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendedUnitProvider=a}),98);
__d("WAWebNewsletterTabDrawerUtils",["WAWebFrontendConstants"],(function(a,b,c,d,e,f,g){function a(a){return a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>=a.scrollHeight-a.clientHeight}g.isScrollAtBottomOfList=a}),98);
__d("useWAWebNewsletterDirectoryResults",["WAWebNetworkStatus","WAWebNewsletterDirectorySearchAction","react","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=function(a,b,c){if(a==null)return[];a=a.map(function(a,d){return{type:"NEWSLETTER_DIRECTORY_CELL",itemKey:"newsletter-"+a.id.toString(),newsletter:a,chatEntryPoint:b,index:d,directoryFunnelLogger:c}});return a};function a(a){var b=a.searchText,e=a.newsletterDirectoryFunnelLogger,f=a.countryCode,g=a.listView,h=a.skipSubscribedNewsletters,m=a.category,n=a.chatEntryPoint,o=j(""),p=j(!1);a=k([]);var q=a[0],r=a[1];a=k(!1);var s=a[0],t=a[1];a=k(!1);var u=a[0],v=a[1];a=k([]);var w=a[0],x=a[1];a=k(!1);var y=a[0],z=a[1],A=c("useWAWebEventTargetValue")(c("WAWebNetworkStatus"),"change:online",function(){return!c("WAWebNetworkStatus").online}),B=i(function(){var a=b.trim(),c=a!=="";e.setSearchMode(c);return d("WAWebNewsletterDirectorySearchAction").fetchNewsletterDirectories({countryCodes:f===""?[]:[f],searchText:a,view:g,cursorToken:o.current,categories:m==null?[]:[m.type],skipSubscribedNewsletters:h}).then(function(a){var b,c=a.newsletters,d=a.pageInfo;a=a.subscribedNewsletters;o.current=(b=d==null?void 0:d.endCursor)!=null?b:"";p.current=(d==null?void 0:d.hasNextPage)===!0;b=l(c,n,e);d=l(a,n,e);return[b,d]})["catch"](function(a){e.logServerError();throw a})},[b,e,f,g,m,h,n]);a=i(function(){!A&&!s&&(z(!0),o.current="",p.current=!1,B().then(function(a){var b=a[0];a=a[1];r(b);x(a)})["catch"](function(){t(!0)})["finally"](function(){z(!1)}))},[A,s,o,p,B]);var C=i(function(){v(!0),B().then(function(a){var b=a[0];a=a[1];r([].concat(q,b));x([].concat(w,a))})["finally"](function(){v(!1)})},[B,q,w]),D=i(function(){return p.current===!0&&!u},[p,u]),E=i(function(){return p.current},[p]);return[q,D,a,C,E,y,u,s,t,w]}g.useNewsletterDirectoryResults=a}),98);
__d("useWAWebNewsletterInboxSearch",["WAWebChatGetters","WAWebCommonNewsletterEnums","WAWebFrontendChatGetters","WAWebFuzzySearch","WAWebNewsletterMembershipUtil","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useCallback;function a(a){var b=a.filteredText,c=a.selectedFilter;a=i(function(a){var e=b.trim()!=="";return a.filter(function(a){if(!d("WAWebChatGetters").getIsNewsletter(a)||a==null)return!1;if(e){var f;f=b==null?void 0:(f=b.toLocaleLowerCase())==null?void 0:f.trim();return k(a,f)}switch(c){case d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels:return d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a==null?void 0:a.newsletterMetadata);case d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.Unread:return d("WAWebFrontendChatGetters").getOptimisticUnreadCount(a)>0||d("WAWebFrontendChatGetters").getShouldShowUnreadDivider(a);case d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All:return!0}}).sort(function(a,c){return j({channelA:a,channelB:c,hasSearchText:e,searchText:b==null?void 0:(a=b.toLocaleLowerCase())==null?void 0:a.trim()})})},[b,c]);return a}function j(a){var b=a.channelA,c=a.channelB,e=a.searchText;a=a.hasSearchText;if(!a)return 0;a=(a=b.newsletterMetadata)==null?void 0:(b=a.name)==null?void 0:b.toLocaleLowerCase();b=(b=c.newsletterMetadata)==null?void 0:(c=b.name)==null?void 0:c.toLocaleLowerCase();if(a==null||a===""||b==null||b===""||e==null||e==="")return 0;if(e.toLowerCase()===a.toLowerCase())return-1;else if(e.toLowerCase()===b.toLowerCase())return 1;if(a.startsWith(e))return-1;else if(b.startsWith(e))return 1;if(a.includes(e))return-1;else if(b.includes(e))return 1;return d("WAWebFuzzySearch").fuzzyMatches(e,a).length-d("WAWebFuzzySearch").fuzzyMatches(e,b).length}function k(a,b){a=(a=a.newsletterMetadata)==null?void 0:(a=a.name)==null?void 0:a.toLocaleLowerCase();return a==null||a===""||b==null||b===""?!1:d("WAWebFuzzySearch").fuzzySearch(b,a)}g.useNewsletterInboxSearch=a;g.sortChannelResults=j}),98);
__d("useWAWebRecommendedNewsletters",["WAWebNewsletterDirectorySearchAction","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState,m=function(a){return a.filter(function(a){return a.isSuspendedOrTerminated()===!1&&((a=a.newsletterMetadata)==null?void 0:a.isPreview)===!0})};function a(){var a=l([]),b=a[0],e=a[1],f=k([]);a=l(!1);var g=a[0],h=a[1],n=c("useWAWebUnmountSignal")(),o=i(function(){e(m(f.current))},[]);j(function(){if(g||n.aborted)return;h(!0);d("WAWebNewsletterDirectorySearchAction").getRecommendedNewslettersAction().then(function(a){n.aborted||(f.current=a,o())})["finally"](function(){n.aborted||h(!1)})},[]);return[g,b]}g.useRecommendedNewsletters=a}),98);
__d("WAWebNewsletterTabDrawerContent.react",["fbt","WAWebChatEntryPoint","WAWebChatSearchQuery","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebKeyboardHotKeys.react","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebNewsletterCollection","WAWebNewsletterDirectoryFilterUtils","WAWebNewsletterDirectoryFunnelLogging","WAWebNewsletterDrawerListItem.react","WAWebNewsletterGatingUtils","WAWebNewsletterInboxSearch.react","WAWebNewsletterInboxSearchLogging","WAWebNewsletterRecommendedUnit.flow","WAWebNewsletterRecommendedUnitProvider.react","WAWebNewsletterTabDrawerUtils","WAWebSideNavButtonsActivityModel","WAWebSingleSelection","WAWebTabOrder","WAWebTimeSpentLoggingNavigation","WAWebUIRefreshGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumTsSurface","WAWebWamEnumUpdateTabSearchEventType","react","stylex","useLazyRef","useWAWebDebouncedSearch","useWAWebNewsletterDirectoryResults","useWAWebNewsletterInboxSearch","useWAWebRecommendedNewsletters"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useMemo,o=b.useRef,p=b.useState,q=d("WAWebFlatList.react").FlatListFactory(),r={flatListContainer:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowY:"x1odjw0f",$$css:!0},flatListContainerRefreshed:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"xefzj8c",paddingInlineStart:"x1c1uobl",$$css:!0},flatListViewport:{paddingTop:"xj74a6c",$$css:!0}};function a(a){var b=a.initialScrollTop,e=a.newsletters,f=a.onNewsletterDirectorySearch,g=a.setScrollTop,i=e.length<=0;a=d("useWAWebRecommendedNewsletters").useRecommendedNewsletters();var k=a[0];a=a[1];var u=p([]),w=u[0],x=u[1],y=o(),z=o(),A=o(b!=null?b:0),B=o(b!=null?b:0),C=o(!1),D=o(),E=o();u=o(new(d("WAWebNewsletterDirectoryFunnelLogging").NewsletterDirectoryFunnelLogger)());var F=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),G=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.itemKey})}),H=G.current,I=H.value,J=H.list,K=n(function(){return w.filter(function(a){return a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL||a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_DIRECTORY_CELL})},[w]);(J.length===0||K!==J)&&(H.init(K),I!=null&&H.setVal(I));J=p(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All);var L=J[0],M=J[1];K=c("useWAWebDebouncedSearch")(d("WAWebNewsletterGatingUtils").getNewsletterDirectorySearchDebounce());var N=K[0];H=K[1];I=p(0);var O=I[0],P=I[1],Q=o(new(d("WAWebChatSearchQuery").SearchQuery)()),R=N.trim();J=d("useWAWebNewsletterDirectoryResults").useNewsletterDirectoryResults({searchText:R,countryCode:d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").getCountryCodeIso(d("WAWebUserPrefsMeUser").getMeUser().user),listView:d("WAWebNewsletterDirectoryFilterUtils").NewsletterDirectoryListView.Recommended,newsletterDirectoryFunnelLogger:u.current,skipSubscribedNewsletters:!0,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterUpdatesTab});var S=J[0],T=J[1],U=J[2],V=J[3];J[4];var W=J[5],X=d("useWAWebNewsletterInboxSearch").useNewsletterInboxSearch({filteredText:R,selectedFilter:L});m(function(){var a=X(e);P(a.length);a=v({subscribedNewsletters:a,directoryNewsletters:S,selectedFilter:L,trimmedSearchText:R,setSelectedFilter:M,loadingDirectory:W});x(a)},[e,X,L,S,R,W]);m(function(){R!==""&&U()},[U,R]);m(function(){if(R===""){var a;(a=F.current)==null?void 0:a.setScrollFromStart(B.current);return}if(w.length>0){(a=z.current)==null?void 0:a.scrollIntoViewIfNeeded(0)}},[R,F,w.length]);m(function(){var a;if((a=E.current)==null?void 0:a.hasFocus())return;var b=c("WAWebNewsletterCollection").getActive();a=w.find(function(a){return a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL&&a.newsletter===b});a!=null&&G.current.setVal(a)},[w,G]);m(function(){w.length&&C.current===!1&&(F.current.setScrollFromStart(b!=null?b:0),C.current=!0);return function(){return g==null?void 0:g(A.current)}},[w.length,b,g,F]);K=function(a){A.current=a.currentTarget.scrollTop;N.trim()===""&&(B.current=a.currentTarget.scrollTop);a=y.current;if(a==null||R==="")return;d("WAWebNewsletterTabDrawerUtils").isScrollAtBottomOfList(a)&&T()&&V()};I=function(){var a=d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT;return d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?a+4:a};var Y=function(a){if(d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled())switch(a.type){case d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL:case d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_DIRECTORY_CELL:d("WAWebSideNavButtonsActivityModel").setLastActiveNewsletterEntryPoint(a.chatEntryPoint);break}if(R!=="")switch(a.type){case d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL:d("WAWebNewsletterInboxSearchLogging").logNewsletterInboxSearchEvent({updateTabSearchEventType:d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE.ITEM_TAP});break;case d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_DIRECTORY_CELL:d("WAWebNewsletterInboxSearchLogging").logNewsletterInboxSearchEvent({updateTabSearchEventType:d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE.ITEM_TAP});break}G.current.setVal(a)},Z=function(){var a=y.current;if(a==null||i)return;a.scrollTo({top:a.scrollHeight})},$=function(){if(z.current){var a=G.current.value;if(a==null)return;var b=w.findIndex(function(b){return b.itemKey===a.itemKey});if(b!==-1){var c;(c=z.current)==null?void 0:c.scrollIntoViewIfNeeded(b,100)}}};u=function(a){if(e.length===0)return;a==null?void 0:a.preventDefault();a==null?void 0:a.stopPropagation();a=G.current.prev();a>-1&&(G.current.setPrev(!0),$())};J=function(a){if(e.length===0)return;a==null?void 0:a.preventDefault();a==null?void 0:a.stopPropagation();a=G.current.next();G.current.index!==a&&(G.current.setNext(!0),$())};var aa=function(){if(G.current.value){var a=G.current.index;G.current.setVal(w[a],!0)}else G.current.setFirst(!0)};J={down:J,up:u};u=i?null:l.jsx(d("WAWebNewsletterInboxSearch.react").NewsletterInboxSearch,{ref:E,filteredText:R,handleSearchChange:H,handleSelectNewsletter:Y,listData:w,newsletters:e,selectedFilter:L,setSelectedFilter:M,searchQuery:Q.current});H=R===""&&!i&&L!==d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels&&(a.length>0||k);K=l.jsxs(c("WAWebFlatListContainer.react"),{className:(j||(j=c("stylex")))([r.flatListContainer,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&r.flatListContainerRefreshed]),ref:y,onScroll:K,flatListControllers:[F.current],children:[l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{tabIndex:w.length===0?-1:0,"data-tab":d("WAWebTabOrder").TAB_ORDER.NEWSLETTER_TAB_LIST,handlers:J,onFocus:function(a){a.target===D.current&&aa()},ref:D,children:l.jsx(q,{ref:z,data:w,className_DONOTUSE:"x1xzczws",flatListController:F.current,direction:"vertical",role:"navigation","aria-label":h._(/*BTDS*/"__JHASH__hpglDTjcwtr__JHASH__").toString(),defaultItemHeight:I(),viewportXstyles:r.flatListViewport,renderItem:function(a,b){return l.jsx(d("WAWebNewsletterDrawerListItem.react").NewsletterDrawerListItem,{data:a,selectionRef:G.current,onRecommendedUnitFollow:Z,onSelect:Y,onNewsletterDirectorySearch:f,loading:k,bottomDirectoryIndex:S.length-1,firstCellInList:a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL&&a.firstCellInList&&R!=="",searchQuery:Q.current,index:b,subscribedNewslettersCount:O})}})}),H&&l.jsx(d("WAWebNewsletterRecommendedUnitProvider.react").NewsletterRecommendedUnitProvider,{isLoading:k,layout:d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Row,recommendedNewsletters:a,onSeeAllClick:f,afterFollow:Z,discoverySurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME})]});return l.jsxs(l.Fragment,{children:[u,i&&l.jsx(d("WAWebNewsletterRecommendedUnitProvider.react").NewsletterRecommendedUnitProvider,{isLoading:k,layout:d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Block,recommendedNewsletters:a,onSeeAllClick:f,afterFollow:Z,discoverySurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME}),R!==""?l.jsx(t,{children:K}):l.jsx(s,{children:K})]})}a.displayName=a.name+" [from "+f.id+"]";function s(a){a=a.children;d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"channel-updates-home"});return a}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.children;d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"channel-updates-home-search"});return a}t.displayName=t.name+" [from "+f.id+"]";var u=58;function v(a){var b=a.subscribedNewsletters,c=a.directoryNewsletters,e=a.loadingDirectory,f=a.selectedFilter,g=a.setSelectedFilter;a=a.trimmedSearchText;var h=[];f===d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.Unread&&b.length===0&&h.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_EMPTY_UNREAD,itemKey:"empty_unread_list",setSelectedFilter:g,height:200});g=a!=="";g&&b.length>0&&h.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"followed_channels_search_header",title:d("WAWebCommonNewsletterStrings").getFollowedChannelsSearchHeader(),height:u,hasTopBorder:!1});b.forEach(function(a,b){h.push({itemKey:"newsletter-local-"+a.id.toString(),type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL,newsletter:a,index:b,firstCellInList:b===0,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterChatlist})});g&&!e&&(c.length>0?(h.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"other_channels_search_header",title:d("WAWebCommonNewsletterStrings").getOtherChannelsSearchHeader(),height:u,hasTopBorder:!0}),h.push.apply(h,c)):b.length===0&&h.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_DIRECTORY_NO_RESULTS,itemKey:"no_results_found",height:120}),h.push({itemKey:"search-footer",type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.SEARCH_FOOTER}));f===d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels&&a===""&&h.push({itemKey:"my-newsletters-footer",type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.MY_NEWSLETTERS_FOOTER});return h}g.NewsletterTabDrawerContent=a}),226);
__d("WAWebNewsletterTabDrawerLoadingShimmer.react",["WAWebDrawerSection.react","WAWebNewsletterGatingUtils","WAWebNewsletterInboxShimmer.react","WAWebNewsletterRecommendationsShimmer.react","react","useWAWebWindowSize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j=128;function a(a){a=a.newsletterCount;var b=c("useWAWebWindowSize")();b=b.height;b=Math.floor(b/j);b=a>b?b:a;var e=i.jsx(c("WAWebNewsletterInboxShimmer.react"),{count:b});a===0&&(b=d("WAWebNewsletterGatingUtils").getRecommendedUnitRowCount(),e=i.jsx(d("WAWebNewsletterRecommendationsShimmer.react").NewsletterRecommendationsBlockShimmer,{count:b}));return i.jsx(c("WAWebDrawerSection.react"),{theme:"full-height",children:e})}a.displayName=a.name+" [from "+f.id+"]";g.LoadingTab=a}),98);
__d("WAWebNewsletterTabMenuDropdown.react",["WAWebCommonNewsletterStrings","WAWebDropdownItem.react","WAWebNewChannelRefreshedIcon.react","WAWebNewsletterGatingUtils","WAWebSearchRefreshedIcon.react","WAWebUIRefreshGatingUtils","WAWebWamEnumChannelDirectoryEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useCallback;function a(a){var b=a.onCreateNewsletter,c=a.onNewsletterDirectorySearch;a=[];var e=k(function(){c(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_MENU)},[c]),f=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();d("WAWebNewsletterGatingUtils").isNewsletterCreationEnabled()&&a.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:b,testid:void 0,icon:f?j.jsx(d("WAWebNewChannelRefreshedIcon.react").NewChannelRefreshedIcon,{}):null,children:d("WAWebCommonNewsletterStrings").getCreateChannelText()},"newsletter-tab-overflow-menu-create-channel"));d("WAWebNewsletterGatingUtils").isNewsletterDirectoryEnabled()&&a.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:e,testid:void 0,icon:f?j.jsx(d("WAWebSearchRefreshedIcon.react").SearchRefreshedIcon,{}):null,children:d("WAWebCommonNewsletterStrings").getFindNewslettersText()},"newsletter-tab-overflow-menu-find-channels"));return a}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterTabMenuDropdown=a}),98);
__d("WAWebNewsletterTabDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerHeader.react","WAWebDropdown.react","WAWebKeyboardHotKeys.react","WAWebMenuBar.react","WAWebNewRoundRefreshedIcon.react","WAWebNewsletterFailures.react","WAWebNewsletterGatingUtils","WAWebNewsletterLoadingStageManager","WAWebNewsletterTabDrawerContent.react","WAWebNewsletterTabDrawerLoadingShimmer.react","WAWebNewsletterTabMenuDropdown.react","WAWebPlusIcon.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","react","useWAWebFocusOnMount","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={drawer:{backgroundColor:"x150wa6m",$$css:!0},icon:{color:"xfect85",$$css:!0},iconRefreshed:{color:"x14ug900",$$css:!0}};function a(a){var b=a.initialScrollTop,e=a.newsletters,f=a.onBack,g=a.onCreateNewsletter,i=a.onNewsletterDirectorySearch,l=a.ref;a=a.setScrollTop;var m=d("useWAWebModelValues").useModelValues(d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStageManager,["stage"]);m=m.stage;g=(d("WAWebNewsletterGatingUtils").isNewsletterCreationEnabled()||d("WAWebNewsletterGatingUtils").isNewsletterDirectoryEnabled())&&j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebNewRoundRefreshedIcon.react").NewRoundRefreshedIcon,{iconXstyle:k.iconRefreshed}):j.jsx(d("WAWebPlusIcon.react").PlusIcon,{iconXstyle:k.icon}),title:h._(/*BTDS*/"__JHASH__t6-NJgD7pr6__JHASH__"),dropdownMenu:{menu:j.jsx(d("WAWebNewsletterTabMenuDropdown.react").NewsletterTabMenuDropdown,{onCreateNewsletter:g,onNewsletterDirectorySearch:i}),type:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebDropdown.react").MenuType.Dropdown:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,testid:"newsletter-tab-dropdown"}});var n=null;switch(m){case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.Failed:n=j.jsx(d("WAWebNewsletterFailures.react").NewsletterFailedBootstrap,{});break;case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.Loading:n=j.jsx(d("WAWebNewsletterTabDrawerLoadingShimmer.react").LoadingTab,{newsletterCount:e.length});break;case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.None:case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.Finished:n=j.jsx(d("WAWebNewsletterTabDrawerContent.react").NewsletterTabDrawerContent,{initialScrollTop:b,newsletters:e,setScrollTop:a,onNewsletterDirectorySearch:i});break}m=c("useWAWebFocusOnMount")();return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:m,"aria-label":h._(/*BTDS*/"__JHASH__3LjqRmxPion__JHASH__"),"data-testid":void 0,children:j.jsxs(c("WAWebDrawer.react"),{ref:l,xstyle:k.drawer,testid:void 0,tsNavigationData:{surface:"channel-updates-home"},children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__K9vLRzd9Xkc__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB,onBack:f,children:g}),n]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterTabFlow.react",["WANullthrows","WATimeUtils","WAWebDrawerManager","WAWebNewNewsletterInfoDrawer.react","WAWebNewsletterAdminFunnelLogging","WAWebNewsletterCollection","WAWebNewsletterDirectoryFlowLoadable","WAWebNewsletterTabDrawer.react","WAWebNewsletterTabFlowStep","WAWebOpenNewsletterCreationFlow","WAWebOpenNewsletterDirectory","WAWebUserPrefsNewsletter","WAWebWamEnumAdminFlowType","react","useWAWebEventTargetValue","useWAWebFlow","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function m(){var a=l(!1),b=a[0],e=a[1];d("useWAWebListener").useListeners(c("WAWebNewsletterCollection").toArray().filter(function(a){return a.newsletterMetadata!=null}).map(function(a){return{source:c("WANullthrows")(a.newsletterMetadata),eventOrEvents:"change:isSubscribedOrOwned",callback:function(){return e(!b)}}}));d("useWAWebListener").useListeners(c("WAWebNewsletterCollection").toArray().map(function(a){return{source:c("WANullthrows")(a),eventOrEvents:["change:msgs","change:msgsChanged","change:pendingDeleteForMeCount","change:chatlistPreview","change:lastReactionPreview","change:active"],callback:function(){return e(!b)}}}));a=c("useWAWebEventTargetValue")(c("WAWebNewsletterCollection"),["add","remove","reset","sort"],function(){return c("WAWebNewsletterCollection").filter(function(a){return(a=a.newsletterMetadata)==null?void 0:a.isSubscribedOrOwned})},[b]);return a}function a(a){var b=k(0),e=a.onBack,f=a.initialStep;f=f===void 0?d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterTab:f;var g=a.adminFunnelLogger;g=g===void 0?new(d("WAWebNewsletterAdminFunnelLogging").NewsletterAdminFunnelLogger)(d("WAWebWamEnumAdminFlowType").ADMIN_FLOW_TYPE.CREATION):g;a=a.directoryEntryPoint;var h=function(){d("WAWebUserPrefsNewsletter").setNewsletterTabLastSeenTimestamp(d("WATimeUtils").unixTime()),c("WAWebNewsletterCollection").trigger("newsletter_tab_close"),e!=null?e():d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()};f=d("useWAWebFlow").useFlow(f,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:h});var i=f[0],l=f[1],n=k(a),o=k(g);f=m();if(l.step==null)return null;var p;switch(l.step){case d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterTab:p=j.jsx(c("WAWebNewsletterTabDrawer.react"),{newsletters:f,onBack:h,initialScrollTop:b.current,setScrollTop:function(a){b.current=a},onCreateNewsletter:function(){d("WAWebOpenNewsletterCreationFlow").openNewsletterCreationFlow({tosAcceptCallback:function(a){l.push(d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.CreateNewsletter),o.current=a}})},onNewsletterDirectorySearch:function(a){d("WAWebOpenNewsletterDirectory").openNewsletterDirectory({tosAcceptCallback:function(){n.current=a,l.push(d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterDirectoryFlow)}})}});break;case d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.CreateNewsletter:p=j.jsx(c("WAWebNewNewsletterInfoDrawer.react"),{onBack:function(){return l.pop()},adminFunnelLogger:o.current});break;case d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterDirectoryFlow:p=j.jsx(d("WAWebNewsletterDirectoryFlowLoadable").NewsletterDirectoryFlowLoadable,{directoryEntryPoint:n.current,onBack:function(){return l.pop()}});break}return j.jsx(i,{flow:l,children:p})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterTabFlow=a}),98);